# karpenter-nodepool

![Version: 0.0.7](https://img.shields.io/badge/Version-0.0.7-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 0.0.1](https://img.shields.io/badge/AppVersion-0.0.1-informational?style=flat-square)

A Helm chart for Karpenter Node pool, it will create the NodePool and the Ec2NodeClass.

**Homepage:** <https://github.com/team-carepay/karpenter-charts>

## Source Code

* <https://github.com/team-carepay/karpenter-charts>

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| ec2NodeClass.default.amiFamily | string | `"AL2"` | Required, resolves a default ami and userdata |
| ec2NodeClass.default.amiSelectorTermsTags | object | `{}` | Optional, discovers amis to override the amiFamily's default  Ex:    karpenter.sh/discovery: cluster-name |
| ec2NodeClass.default.blockDeviceMappings | object | `{}` | Optional, configures storage devices for the instance  Ex:   - deviceName: /dev/xvda    ebs:       volumeSize: 100Gi       volumeType: gp3       iops: 10000       encrypted: true       kmsKeyID: "arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab"       deleteOnTermination: true       throughput: 125       snapshotID: snap-0123456789 |
| ec2NodeClass.default.detailedMonitoring | bool | `false` | Optional, configures detailed monitoring for the instance |
| ec2NodeClass.default.instanceProfile | string | `""` | Optional, IAM instance profile to use for the node identity.  Must specify one of "role" or "instanceProfile" for Karpenter to launch nodes |
| ec2NodeClass.default.metadataOptions | object | `{}` | Optional, configures IMDS for the instance  Ex:     httpEndpoint: enabled    httpProtocolIPv6: disabled    httpPutResponseHopLimit: 2    httpTokens: required |
| ec2NodeClass.default.role | string | `""` | Optional, IAM role to use for the node identity.  The "role" field is immutable after EC2NodeClass creation. This may change in the   future, but this restriction is currently in place today to ensure that Karpenter   avoids leaking managed instance profiles in your account.  Must specify one of "role" or "instanceProfile" for Karpenter to launch nodes |
| ec2NodeClass.default.securityGroupSelectorTermsTags | object | `{}` |  |
| ec2NodeClass.default.subnetSelectorTermsTags | object | `{}` | Required, discovers subnets to attach to instances  Ex:    karpenter.sh/discovery: cluster-name |
| ec2NodeClass.default.tags | object | `{}` | Optional, propagates tags to underlying EC2 resources |
| ec2NodeClass.default.userData | string | `""` | Optional, overrides autogenerated userdata with a merge semantic  Ex:    userData: |-     echo "Hello world" |
| globalAnnotations | object | `{}` |  |
| globalLabels | object | `{}` |  |
| nodePool.default.annotations | object | `{}` | Annotations are arbitrary key-values that are applied to all nodes |
| nodePool.default.disruption | object | `{"consolidationPolicy":"WhenUnderutilized","expireAfter":"720h"}` | like rolling Nodes due to them hitting their maximum lifetime (expiry) or scaling down nodes to reduce cluster cost |
| nodePool.default.disruption.consolidationPolicy | string | `"WhenUnderutilized"` | If using `WhenEmpty`, Karpenter will only consider nodes for consolidation that contain no workload pods |
| nodePool.default.disruption.expireAfter | string | `"720h"` | You can choose to disable expiration entirely by setting the string value 'Never' here |
| nodePool.default.kubelet | object | `{}` | maxPods: 20 |
| nodePool.default.labels | object | `{}` | Labels are arbitrary key-values that are applied to all nodes |
| nodePool.default.limits | object | `{"cpu":1000,"memory":"1000Gi"}` | Limits prevent Karpenter from creating new instances once the limit is exceeded. |
| nodePool.default.nodeClassRef | string | `"default"` | References the Cloud Provider's NodeClass resource, see your cloud provider specific documentation |
| nodePool.default.requirements | list | `[{"key":"karpenter.k8s.aws/instance-category","operator":"In","values":["c","m","r"]},{"key":"karpenter.k8s.aws/instance-cpu","operator":"In","values":["4","8","16","32"]},{"key":"karpenter.k8s.aws/instance-hypervisor","operator":"In","values":["nitro"]},{"key":"karpenter.k8s.aws/instance-generation","operator":"Gt","values":["2"]},{"key":"kubernetes.io/arch","operator":"In","values":["amd64"]},{"key":"karpenter.sh/capacity-type","operator":"In","values":["spot","on-demand"]}]` | https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#operators |
| nodePool.default.startupTaints | list | `[]` | effect: NoSchedule  |
| nodePool.default.taints | list | `[]` | effect: NoSchedule |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.13.1](https://github.com/norwoodj/helm-docs/releases/v1.13.1)
