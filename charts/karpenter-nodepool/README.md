# karpenter-nodepool

![Version: 0.0.7](https://img.shields.io/badge/Version-0.0.7-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 0.0.1](https://img.shields.io/badge/AppVersion-0.0.1-informational?style=flat-square)

A Helm chart for Karpenter Node pool, it will create the NodePool and the Ec2NodeClass.

**Homepage:** <https://github.com/team-carepay/karpenter-charts>

## Source Code

* <https://github.com/team-carepay/karpenter-charts>

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| ec2NodeClass.default.amiFamily | string | `"AL2"` | Required, resolves a default ami and userdata |
| ec2NodeClass.default.amiSelectorTermsTags | object | `{}` | karpenter.sh/discovery: cluster-name |
| ec2NodeClass.default.blockDeviceMappings | object | `{}` | snapshotID: snap-0123456789 |
| ec2NodeClass.default.detailedMonitoring | bool | `false` | Optional, configures detailed monitoring for the instance |
| ec2NodeClass.default.instanceProfile | string | `""` | Must specify one of "role" or "instanceProfile" for Karpenter to launch nodes |
| ec2NodeClass.default.metadataOptions | object | `{}` | httpTokens: required |
| ec2NodeClass.default.role | string | `""` | Must specify one of "role" or "instanceProfile" for Karpenter to launch nodes |
| ec2NodeClass.default.securityGroupSelectorTermsTags | object | `{}` | karpenter.sh/discovery: cluster-name |
| ec2NodeClass.default.subnetSelectorTermsTags | object | `{}` | karpenter.sh/discovery: cluster-name |
| ec2NodeClass.default.tags | object | `{}` | Optional, propagates tags to underlying EC2 resources |
| ec2NodeClass.default.userData | string | `""` | echo "Hello world" |
| globalAnnotations | object | `{}` |  |
| globalLabels | object | `{}` |  |
| nodePool.default.annotations | object | `{}` | Annotations are arbitrary key-values that are applied to all nodes |
| nodePool.default.disruption | object | `{"consolidationPolicy":"WhenUnderutilized","expireAfter":"720h"}` | like rolling Nodes due to them hitting their maximum lifetime (expiry) or scaling down nodes to reduce cluster cost |
| nodePool.default.disruption.consolidationPolicy | string | `"WhenUnderutilized"` | If using `WhenEmpty`, Karpenter will only consider nodes for consolidation that contain no workload pods |
| nodePool.default.disruption.expireAfter | string | `"720h"` | You can choose to disable expiration entirely by setting the string value 'Never' here |
| nodePool.default.kubelet | object | `{}` | maxPods: 20 |
| nodePool.default.labels | object | `{}` | Labels are arbitrary key-values that are applied to all nodes |
| nodePool.default.limits | object | `{"cpu":1000,"memory":"1000Gi"}` | Limits prevent Karpenter from creating new instances once the limit is exceeded. |
| nodePool.default.nodeClassRef | string | `"default"` | References the Cloud Provider's NodeClass resource, see your cloud provider specific documentation |
| nodePool.default.requirements | list | `[{"key":"karpenter.k8s.aws/instance-category","operator":"In","values":["c","m","r"]},{"key":"karpenter.k8s.aws/instance-cpu","operator":"In","values":["4","8","16","32"]},{"key":"karpenter.k8s.aws/instance-hypervisor","operator":"In","values":["nitro"]},{"key":"karpenter.k8s.aws/instance-generation","operator":"Gt","values":["2"]},{"key":"kubernetes.io/arch","operator":"In","values":["amd64"]},{"key":"karpenter.sh/capacity-type","operator":"In","values":["spot","on-demand"]}]` | https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#operators |
| nodePool.default.startupTaints | list | `[]` | effect: NoSchedule  |
| nodePool.default.taints | list | `[]` | effect: NoSchedule |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.13.1](https://github.com/norwoodj/helm-docs/releases/v1.13.1)
